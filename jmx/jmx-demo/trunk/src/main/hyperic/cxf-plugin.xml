<?xml version="1.0"?>
   <!--                                                                              -->
   <!--   Copyright 2009 Xebia and the original author or authors.                   -->
   <!--                                                                              -->
   <!--   Licensed under the Apache License, Version 2.0 (the "License");            -->
   <!--   you may not use this file except in compliance with the License.           -->
   <!--   You may obtain a copy of the License at                                    -->
   <!--                                                                              -->
   <!--       http://www.apache.org/licenses/LICENSE-2.0                             -->
   <!--                                                                              -->
   <!--   Unless required by applicable law or agreed to in writing, software        -->
   <!--   distributed under the License is distributed on an "AS IS" BASIS,          -->
   <!--   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   -->
   <!--   See the License for the specific language governing permissions and        -->
   <!--   limitations under the License.                                             -->
   <!--                                                                              -->
   <!--   Hyperic jvm-plugin extensions for CXF metrics                              -->
   <!--                                                                              -->
<plugin name="cxf">

   <service name="CXF Endpoint" server="Sun JVM" version="1.5">

      <property name="OBJECT_NAME" value="org.apache.cxf:type=Performance.Counter.Server,bus.id=*,service=*,port=*,operation=*" />

      <property name="AUTOINVENTORY_NAME" value="%serverName% %service% %port% %operation% CXF Endpoint" />

      <plugin type="autoinventory" />

      <config>
         <option name="bus.id" description="ID of the CXF Bus" />
         <option name="service" description="Name of the Service" />
         <option name="port" description="Name of the Port" />
         <option name="operation" description="Name of the Operation" />
      </config>

      <filter name="template" value="${OBJECT_NAME}:${alias}" />

      <metric name="Availability" indicator="true" />
      <metric name="Number of Invocations" alias="NumInvocations" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Total Handling Time" alias="TotalHandlingTime" indicator="true" template="${OBJECT_NAME}:${alias}" units="mu"
         type="trendsup" />

      <metric name="Num Checked Application Faults" alias="NumCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Logical Runtime Faults" alias="NumLogicalRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Runtime Faults" alias="NumRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Num UnChecked Application Faults" alias="NumUnCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
   </service>

   <service name="Per Application CXF Endpoint"  server="Sun JVM" version="1.5">

      <property name="OBJECT_NAME" value="org.apache.cxf:type=Performance.Counter.Server,path=*,bus.id=*,service=*,port=*,operation=*" />

      <property name="AUTOINVENTORY_NAME" value="%serverName% %path% %service% %port% %operation% CXF Endpoint" />

      <plugin type="autoinventory" />

      <config>
         <option name="path" description="Path of the web application" default="/" />
         <option name="bus.id" description="ID of the CXF Bus" />
         <option name="service" description="Name of the Service" />
         <option name="port" description="Name of the Port" />
         <option name="operation" description="Name of the Operation" />
      </config>

      <filter name="template" value="${OBJECT_NAME}:${alias}" />

      <metric name="Availability" indicator="true" />
      <metric name="Number of Invocations" alias="NumInvocations" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Total Handling Time" alias="TotalHandlingTime" indicator="true" template="${OBJECT_NAME}:${alias}" units="mu"
         type="trendsup" />

      <metric name="Num Checked Application Faults" alias="NumCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Logical Runtime Faults" alias="NumLogicalRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Runtime Faults" alias="NumRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Num UnChecked Application Faults" alias="NumUnCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
   </service>

   <service name="CXF Client"  server="Sun JVM" version="1.5">
      <property name="OBJECT_NAME" value="org.apache.cxf:type=Performance.Counter.Client,bus.id=*,service=*,port=*,operation=*" />

      <property name="AUTOINVENTORY_NAME" value="%serverName% %service% %port% %operation% CXF Client" />

      <plugin type="autoinventory" />

      <config>
         <option name="bus.id" description="ID of the CXF Bus" />
         <option name="service" description="Name of the Service" />
         <option name="port" description="Name of the Port" />
         <option name="operation" description="Name of the Operation" />
      </config>

      <filter name="template" value="${OBJECT_NAME}:${alias}" />

      <metric name="Availability" indicator="true" />
      <metric name="Number of Invocations" alias="NumInvocations" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Total Handling Time" alias="TotalHandlingTime" indicator="true" template="${OBJECT_NAME}:${alias}" units="mu"
         type="trendsup" />

      <metric name="Num Checked Application Faults" alias="NumCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Logical Runtime Faults" alias="NumLogicalRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Runtime Faults" alias="NumRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Num UnChecked Application Faults" alias="NumUnCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
   </service>

   <service name="Per Application CXF Client"  server="Sun JVM" version="1.5">
      <property name="OBJECT_NAME" value="org.apache.cxf:type=Performance.Counter.Client,path=*,bus.id=*,service=*,port=*,operation=*" />

      <property name="AUTOINVENTORY_NAME" value="%serverName% %path% %service% %port% %operation% CXF Client" />

      <plugin type="autoinventory" />

      <config>
         <option name="path" description="Path of the web application" default="/" />
         <option name="bus.id" description="ID of the CXF Bus" />
         <option name="service" description="Name of the Service" />
         <option name="port" description="Name of the Port" />
         <option name="operation" description="Name of the Operation" />
      </config>

      <filter name="template" value="${OBJECT_NAME}:${alias}" />

      <metric name="Availability" indicator="true" />
      <metric name="Number of Invocations" alias="NumInvocations" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Total Handling Time" alias="TotalHandlingTime" indicator="true" template="${OBJECT_NAME}:${alias}" units="mu"
         type="trendsup" />

      <metric name="Num Checked Application Faults" alias="NumCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Logical Runtime Faults" alias="NumLogicalRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
      <metric name="Num Runtime Faults" alias="NumRuntimeFaults" indicator="true" template="${OBJECT_NAME}:${alias}" units="none"
         type="trendsup" />
      <metric name="Num UnChecked Application Faults" alias="NumUnCheckedApplicationFaults" indicator="true" template="${OBJECT_NAME}:${alias}"
         units="none" type="trendsup" />
   </service>

</plugin>