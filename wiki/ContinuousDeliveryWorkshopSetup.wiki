= How to install the Workshop Installation =

 * Checkout [https://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk]
  {{{
svn checkout https://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk workshop
  }}}
 * Configure your credentials in src/main/resources/!AwsCredentials.properties (see the [http://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk/src/main/resources/AwsCredentials.properties.template template file])
  {{{
cd workshop; cp /path/to/aws-credentials.txt src/main/resources/AwsCredentials.properties
  }}}
 * Run {{{fr.xebia.workshop.continuousdelivery.ContinuousDeliveryInfrastructureCreator}}}
  {{{
mvn clean package exec:java -Dexec.mainClass="fr.xebia.workshop.continuousdelivery.ContinuousDeliveryInfrastructureCreator"
  }}}
 * This scripts creates :
   * 1 Nexus server 
     * Amazon EC2 Name : "nexus"
     * URL: http://nexus.xebia-tech-event.info:8081/nexus/
   * Jenkins/Rundeck server per team
     * Amazon EC2 Names : {{{jenkins-${team-identifier}}}}
   * 1 Tomcat dev server per team
     * Amazon EC2 Name: {{{tomcat-${team-identifier}-dev-1}}}
   * 1 Tomcat valid server per team
     * Amazon EC2 Name: {{{tomcat-${team-identifier}-valid-1}}} & {{{tomcat-${team-identifier}-valid-2}}}
   * 1 Petclinic project per team under Xebia Training's Github account ([https://github.com/xebia-france-training/]{{{xebia-petclinic-${team-identifier}}}})
   * A job under each team's Jenkins server to build the team's Petclinic project


= Specifications =

== Nexus ==

 * Logs: {{{/opt/nexus/nexus-oss-webapp-1.9.2.2/logs/}}}

== Jenkins / Rundeck servers ==

 * Installed package: jdk, jenkins (with plugins batch-tasks, git, ssh and rundeck), rundeck, maven, git
 * Configuration: 
  ** "{{{continuous-delivery-workshop.pem}}}" in both {{{${jenkins-user-home}/.ssh}}} and {{{${rundeck-user-home}/.ssh}}}
  ** maven settings.xml with Nexus repos url, login &password
 * [http://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk/src/main/resources/fr/xebia/workshop/continuousdelivery/cloud-config-amzn-linux-jenkins-rundeck.txt cloud-config-amzn-linux-jenkins-rundeck.txt]
 * Petclinic job configuration [http://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk/src/main/resources/fr/xebia/workshop/continuousdelivery/petclinic-jenkins-job-config.xml.fmt petclinic-jenkins-job-config.xml.fmt]


== Tomcat servers ==

 * Installed package: jdk, tomcat, tomcat-manager webapp
 * Configuration: 
   * allow ssh connection as "{{{tomcat}}}" user with "{{{continuous-delivery-workshop.pem}}}"
   * grant access to tomcat-manager webapp to tomcat/tomcat, manager/manager and admin/admin
   * add "{{{ec2-user}}}" to group {{{tomcat}}}"
 * CloudInit: [https://xebia-france.googlecode.com/svn/cloudcomputing/xebia-cloudcomputing-extras/trunk/src/main/resources/fr/xebia/workshop/continuousdelivery/cloud-config-amzn-linux-tomcat.txt cloud-config-amzn-linux-tomcat.txt]

= Diagrams =


== Per Team Infrastructure ==

<img width="400" src="http://xebia-france.googlecode.com/svn/wiki/cont-delivery-img/per-team-infrastructure.png" />

== Global Lab Infrastructure ==

<img width="400" src="http://xebia-france.googlecode.com/svn/wiki/cont-delivery-img/global-infrastructure.png" />