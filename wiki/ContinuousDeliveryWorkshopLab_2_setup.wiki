#summary Continuous Delivery with Jenkins and rundeck Lab for team '2'

*<font size="5">Continuous Delivery with Jenkins and rundeck Lab for Team '2'</font>*

<wiki:toc max_depth="1" />

= Your architecture =

<img width="400" src="http://xebia-france.googlecode.com/svn/wiki/cont-delivery-img/per-team-infrastructure.png" />

<table>
<tr><td> *SSH Private key* </td><td> [https://s3-eu-west-1.amazonaws.com/continuous-delivery/continuous-delivery-workshop.pem continuous-delivery-workshop.pem]</td></tr>
<tr><td> *!GitHub project repository url* </td><td> [https://github.com/xebia-guest/xebia-petclinic-lite-2] </td></tr>
<tr><td> *Jenkins URL* </td><td> [http://ec2-46-137-149-115.eu-west-1.compute.amazonaws.com:8080/] </td></tr>
<tr><td> *Rundeck URL* </td><td> [http://ec2-46-137-149-115.eu-west-1.compute.amazonaws.com:4440/] </td></tr>
<tr><td> *Deployit URL* </td><td> [http://ec2-46-137-149-115.eu-west-1.compute.amazonaws.com:4516/] </td></tr>
<tr><td> *Nexus URL* </td><td> [http://nexus.xebia-tech-event.info:8081/nexus/] </td></tr>
<tr><td> *Tomcat Dev URL* </td><td> [http://ec2-46-137-20-57.eu-west-1.compute.amazonaws.com:8080/] </td></tr>
<tr><td> *Tomcat Dev SSH* </td><td> 
{{{
ssh -i ~/.aws/continuous-delivery-workshop.pem tomcat@ec2-46-137-20-57.eu-west-1.compute.amazonaws.com
}}}
 </td></tr>
<tr><td> *Tomcat Valid 1 URL* </td><td> [http://ec2-46-137-151-70.eu-west-1.compute.amazonaws.com:8080/] </td></tr>
<tr><td> *Tomcat Valid 1 SSH* </td><td> 
{{{
ssh -i ~/.aws/continuous-delivery-workshop.pem tomcat@ec2-46-137-151-70.eu-west-1.compute.amazonaws.com
}}}
 </td></tr>
<tr><td> *Tomcat Valid 2 URL* </td><td> [http://ec2-176-34-194-134.eu-west-1.compute.amazonaws.com:8080/] </td></tr>
<tr><td> *Tomcat Valid 2 SSH* </td><td> 
{{{
ssh -i ~/.aws/continuous-delivery-workshop.pem tomcat@ec2-176-34-194-134.eu-west-1.compute.amazonaws.com
}}}
 </td></tr>
</table>

----

= Environment setup =

 # Get the SSH private key [https://s3-eu-west-1.amazonaws.com/continuous-delivery/continuous-delivery-workshop.pem continuous-delivery-workshop.pem] to connect to the servers
 {{{
mkdir ~/.aws/
curl https://s3-eu-west-1.amazonaws.com/continuous-delivery/continuous-delivery-workshop.pem --output ~/.aws/continuous-delivery-workshop.pem
chmod 400 ~/.aws/continuous-delivery-workshop.pem
}}}
 # Clone Github repository xebia-petclinic-lite-2
  {{{
mkdir ~/continuous-delivery-workshop
cd ~/continuous-delivery-workshop
git clone https://xebia-guest@github.com/xebia-guest/xebia-petclinic-lite-2.git
}}}
  Note: password of the "xebia-guest" user will be sent before the workshop.
 # build project
 {{{
cd ~/continuous-delivery-workshop/xebia-petclinic-lite-2
mvn package
}}}
 # Modify the welcome page and push the change
  ## Modify {{{~/continuous-delivery-workshop/xebia-petclinic-lite-2/src/main/webapp/welcome.jsp}}}
  ## Push the change
   {{{
xebia-petclinic-lite-2 > git commit -m "test" src/main/webapp/welcome.jsp
xebia-petclinic-lite-2 > git push
}}}
 # Verify that Jenkins detects the Git change and triggers a build : [http://ec2-46-137-149-115.eu-west-1.compute.amazonaws.com:8080//job/xebia-petclinic-lite-2/] (it may take up to 1 minute).
 # Do a release of the application
  ## Add the Nexus credentials to your Maven settings.xml file :
   {{{
<settings>
  <servers>
    <!-- Xebia Workshop -->
    <server>
      <id>xebia-tech-event-nexus-releases</id>
      <username>deployment</username>
      <password>deployment123</password>
    </server>
    <server>
      <id>xebia-tech-event-nexus-snapshots</id>
      <username>deployment</username>
      <password>deployment123</password>
    </server>
  </servers>
</settings>
}}}
  ## Execute {{{mvn release:prepare -B release:perform}}}
 # Verify that the new release is available in Nexus : [http://nexus.xebia-tech-event.info:8081/nexus/content/groups/public/fr/xebia/demo/petclinic-2/xebia-petclinic-lite/]
----

Links to the different labs :
 * [ContinuousDeliveryWorkshopLab_2_apache_tomcat_maven_plugin]
 * [ContinuousDeliveryWorkshopLab_2_jenkins_remote_ssh]
 * [ContinuousDeliveryWorkshopLab_2_rundeck]
 * [ContinuousDeliveryWorkshopLab_2_deployit]

_This page has been generaterd by '{{{class fr.xebia.workshop.continuousdelivery.ContinuousDeliveryInfrastructureCreator}}}' with template '{{{/fr/xebia/workshop/continuousdelivery/lab/setup.fmt}}}' on the 2011-10-20T01:10:16.257+02:00_
